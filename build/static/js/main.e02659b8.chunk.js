(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{143:function(e,t,a){e.exports={title:"style_title__eTV8V"}},155:function(e,t,a){e.exports=a(262)},164:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),s=a.n(o),c=a(271),l=a(23),i=a(42),u=a(82),m="GET_ALL_GAMES_REQUEST",p="GET_ALL_GAMES_SUCCESS",d="GET_ALL_GAMES_FAILED",f="SET_FAVORITE",h="UNSET_FAVORITE",g="SHOW_FULL_GAME_INFO",E="CLOSE_FULL_GAME_INFO",v={parsedGamesList:[],favoriteGames:[],gamesLoading:!1,gamesLoaded:!1,allGamesCount:null,currentSelected:null,isFullInfoShown:!1};var y="SET_FIND_TEXT",b={currentlyFinding:null};var O=Object(i.combineReducers)({games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=Object(u.a)({},e);switch(t.type){case m:return a.gamesLoading=!0,a.gamesLoaded=!1,a;case d:return a.gamesLoading=!1,a.gamesLoaded=!1,a.parsedGamesList=[],console.log(t.payload),a;case p:return a.gamesLoading=!1,a.gamesLoaded=!0,a.parsedGamesList=t.payload.results,a.allGamesCount=t.payload.count,a;case f:return a.favoriteGames=e.favoriteGames.filter((function(e){return e.id!==t.payload.id})),""!==t.payload&&a.favoriteGames.push(t.payload),a.isFullInfoShown=!1,a;case g:return a.isFullInfoShown=!0,a.currentSelected=t.payload,a;case E:return a.isFullInfoShown=!1,a;case h:return a.favoriteGames=e.favoriteGames.filter((function(e){return e.id!==t.payload.id})),a;default:return e}},generals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=Object(u.a)({},e);switch(t.type){case y:return a.currentlyFinding=t.payload,a;default:return e}}}),j=a(141),S=a(142),G=Object(i.createStore)(O,Object(j.composeWithDevTools)(Object(i.applyMiddleware)(S.a))),w=a(33),_=Object(w.a)(),k=(a(164),a(20)),F=a(21),L=a(27),A=a(25),C=a(28),T=Object(l.b)((function(e){return{auth:e.auth}}),null)((function(e){if(Object(n.useEffect)((function(){e.title&&(document.title=e.title)})),e.notAuth&&e.auth.accessToken)return r.a.createElement(c.a,{to:"/"});if(e.Auth&&!e.auth.accessToken)return r.a.createElement(c.a,{to:"/login"});var t=e.component;return r.a.createElement(t,e)})),x=a(143),I=a.n(x),M=function(e){function t(){return Object(k.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:I.a.title},"\u0425\u043c... \u042f \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d, \u0447\u0442\u043e \u0432\u044b \u0438\u0441\u043a\u0430\u043b\u0438 \u0438\u043c\u0435\u043d\u043d\u043e \u044d\u0442\u043e...")}}]),t}(r.a.Component),N=a(83),P=a.n(N),z=a(268),R=a(34),U=a.n(R),D=a(106),W=a.n(D);W.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var H=W.a,V=function(e){var t,a,n=arguments;return U.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=n.length>1&&void 0!==n[1]?n[1]:"GET",a=n.length>2?n[2]:void 0,r.t0=t,r.next="GET"===r.t0?5:"POST"===r.t0?6:"PUT"===r.t0?7:"DELETE"===r.t0?8:"PATCH"===r.t0?9:"OPTIONS"===r.t0?10:11;break;case 5:return r.abrupt("return",H.get(e));case 6:return r.abrupt("return",H.post(e,a));case 7:return r.abrupt("return",H.put(e,a));case 8:return r.abrupt("return",H.delete(e));case 9:return r.abrupt("return",H.patch(e,a));case 10:return r.abrupt("return",H.options(e));case 11:return r.abrupt("return",H.get(e));case 12:case"end":return r.stop()}}))},B=new(function(){function e(){Object(k.a)(this,e)}return Object(F.a)(e,[{key:"findAll",value:function(e){var t;return U.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,U.a.awrap(V("/api/findGame","POST",e));case 3:return t=a.sent,a.abrupt("return",JSON.parse(t.data));case 5:case"end":return a.stop()}}))}}]),e}()),J=function(e){return{type:g,payload:e}};function X(e){return function(t){return U.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:m}),B.findAll(e).then((function(e){t({type:p,payload:e})})).catch((function(e){t({type:d,payload:e})}));case 2:case"end":return a.stop()}}))}}var K=z.a.Search,Q=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).onSearch=function(e){a.props.setFindText(e),a.props.getAllGames({search:e,page_size:"36"})},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"place"},r.a.createElement(K,{placeholder:"Enter game name here...",onSearch:this.onSearch}))}}]),t}(r.a.Component),$={getAllGames:X,setFindText:function(e){return function(t){return U.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:y,payload:e});case 1:case"end":return a.stop()}}))}}},q=Object(l.b)((function(e){return{games:e.games}}),$)(Q),Y=a(266),Z=a(270),ee=a(44),te=a(9),ae=a(269),ne=a(264),re=a(108),oe=a.n(re),se=Y.a.Meta,ce=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(L.a)(this,Object(A.a)(t).call(this,e))).listenResizeEvent=function(){console.log("changed"),a.setState({columns:Math.ceil(oe()().width/450)})},a.handleOk=function(){a.props.closeFullGameInfo()},a.state={columns:Math.ceil(oe()().width/450)},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.listenResizeEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.listenResizeEvent)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{loading:this.props.games.gamesLoading,grid:{gutter:16,column:this.state.columns},dataSource:this.props.source,renderItem:function(t){return r.a.createElement(Z.a.Item,{key:t.id},r.a.createElement(Y.a,{hoverable:!0,style:{width:"100%",overflow:"hidden"},cover:r.a.createElement("img",{alt:"example",src:t.background_image,height:200,onClick:function(){return e.props.showFullGameInfo(t)}})},r.a.createElement(se,{title:t.name,description:"Release date: "+t.released}),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(ee.a,{key:"list-favorite",onClick:function(){-1!==e.props.games.favoriteGames.indexOf(t)?e.props.unsetFavorite(t):e.props.setFavorite(t)}},r.a.createElement(te.a,{type:"star",theme:-1!==e.props.games.favoriteGames.indexOf(t)?"filled":"outlined"})))))}}),this.props.games.currentSelected?r.a.createElement(ae.a,{visible:this.props.games.isFullInfoShown,title:this.props.games.currentSelected.name,onOk:this.handleOk,onCancel:this.handleOk,width:"50%",footer:[r.a.createElement(ee.a,{key:"submit",type:"primary",onClick:this.handleOk},"Ok"),r.a.createElement(ee.a,{onClick:function(){-1!==e.props.games.favoriteGames.indexOf(e.props.games.currentSelected)?e.props.unsetFavorite(e.props.games.currentSelected):e.props.setFavorite(e.props.games.currentSelected)}},r.a.createElement(te.a,{type:"star",theme:-1!==this.props.games.favoriteGames.indexOf(this.props.games.currentSelected)?"filled":"outlined"}))]},r.a.createElement("div",null,r.a.createElement("img",{alt:"example",src:this.props.games.currentSelected.background_image,width:"100%",height:"100%"})),r.a.createElement("p",null,"Rating: ",this.props.games.currentSelected.rating,"/",this.props.games.currentSelected.rating_top),r.a.createElement("p",null,"Metacritic: ",this.props.games.currentSelected.metacritic,"/100"),r.a.createElement("p",null,"Platforms:"," ",this.props.games.currentSelected.platforms.map((function(e){return e.platform.name+", "}))),r.a.createElement("p",null,"Genres:"," ",this.props.games.currentSelected.genres.map((function(e){return e.name+", "}))),r.a.createElement(ne.a,{autoplay:!0,dotPosition:"top",overflow:"hidden"},this.props.games.currentSelected.short_screenshots.map((function(e){return r.a.createElement("img",{alt:"example",src:e.image,width:"300"})})))):void 0)}}]),t}(r.a.Component),le={getAllGames:X,showFullGameInfo:J,setFavorite:function(e){return{type:f,payload:e}},closeFullGameInfo:function(){return{type:E}},unsetFavorite:function(e){return{type:h,payload:e}}},ie=Object(l.b)((function(e){return{games:e.games}}),le)(ce),ue=a(151),me=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).onPageChange=function(e){a.props.getAllGames({page_size:"36",page:e,search:a.props.generals.currentlyFinding})},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement(ue.a,{defaultCurrent:1,onChange:this.onPageChange,pageSize:36,total:this.props.games.allGamesCount,style:{marginBottom:"10px"}})}}]),t}(r.a.Component),pe={getAllGames:X},de=Object(l.b)((function(e){return{games:e.games,generals:e.generals}}),pe)(me),fe=a(265),he=a(267),ge=fe.a.Header,Ee=fe.a.Content,ve=fe.a.Sider,ye=he.a.SubMenu,be=function(e){function t(){return Object(k.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(fe.a,{className:P.a.container},r.a.createElement(ve,{breakpoint:"xl",collapsedWidth:"0"},r.a.createElement(he.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(he.a.Item,{key:"1"},r.a.createElement(te.a,{type:"user"}),r.a.createElement("span",null,"Main")),r.a.createElement(ye,{title:r.a.createElement("span",null,r.a.createElement(te.a,{type:"star",theme:"filled"}),r.a.createElement("span",null,"My favorites"))},this.props.games.favoriteGames!==[]?this.props.games.favoriteGames.map((function(t){return r.a.createElement(he.a.Item,{key:t.id,onClick:function(){return e.props.showFullGameInfo(t)}},t.name)})):void 0))),r.a.createElement(fe.a,null,r.a.createElement(ge,{className:P.a.header},r.a.createElement(q,{className:P.a.finder})),r.a.createElement(Ee,{style:{margin:"24px 16px 0"}},r.a.createElement(ie,{source:this.props.games.parsedGamesList}),r.a.createElement(de,null))))}}]),t}(r.a.Component),Oe={showFullGameInfo:J},je=Object(l.b)((function(e){return{games:e.games}}),Oe)(be),Se=function(e){function t(){return Object(k.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllGames({page_size:"36"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(T,Object.assign({},e,{title:"Game finder",component:je}))}}),r.a.createElement(c.b,{path:"*",render:function(e){return r.a.createElement(T,Object.assign({},e,{title:"Error?",component:M}))}})))}}]),t}(r.a.Component),Ge={getAllGames:X},we=Object(l.b)((function(e){return{games:e.games}}),Ge)(Se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(c.c,{history:_},r.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports={container:"style_container__XoHml",logo:"style_logo__26mrL",header:"style_header__2FtH5"}}},[[155,1,2]]]);
//# sourceMappingURL=main.e02659b8.chunk.js.map